<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="en">

    <meta name="author" content="Pankaj Kumar">
    <meta name="description" content="Is Multithreading really useful  Thread - In computer science, a thread of execution is the smallest sequence of programmed instructions that can be managed independently by a scheduler&hellip; (source : Wikipedia) So, When you divide a program into independently managed pieces of work which can be later combined to have a correct end solution we divide it into chunks called threads.
 But why do we need threads anyway?">
    <meta name="keywords" content="blog,developer,personal">

    
      <script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js" crossorigin="anonymous"></script>
    

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Multithreading in C&#43;&#43; &amp; Python"/>
<meta name="twitter:description" content="Is Multithreading really useful  Thread - In computer science, a thread of execution is the smallest sequence of programmed instructions that can be managed independently by a scheduler&hellip; (source : Wikipedia) So, When you divide a program into independently managed pieces of work which can be later combined to have a correct end solution we divide it into chunks called threads.
 But why do we need threads anyway?"/>

    <meta property="og:title" content="Multithreading in C&#43;&#43; &amp; Python" />
<meta property="og:description" content="Is Multithreading really useful  Thread - In computer science, a thread of execution is the smallest sequence of programmed instructions that can be managed independently by a scheduler&hellip; (source : Wikipedia) So, When you divide a program into independently managed pieces of work which can be later combined to have a correct end solution we divide it into chunks called threads.
 But why do we need threads anyway?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="805bluebell.github.io/posts/multithreading-in-cpp-n-python/" />
<meta property="article:published_time" content="2019-12-09T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-12-09T00:00:00+00:00" />


    
      <base href="805bluebell.github.io/posts/multithreading-in-cpp-n-python/">
    
    <title>
  Multithreading in C&#43;&#43; &amp; Python · pankajkumar
</title>

    
      <link rel="canonical" href="805bluebell.github.io/posts/multithreading-in-cpp-n-python/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css" integrity="sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="805bluebell.github.io/css/coder.min.0e5ce5b959a68dfe0232c6ddcec1e8ef154517c968464707f3181c437fe611c0.css" integrity="sha256-DlzluVmmjf4CMsbdzsHo7xVFF8loRkcH8xgcQ3/mEcA=" crossorigin="anonymous" media="screen" />
    

    

    
      
        
        
        <link rel="stylesheet" href="805bluebell.github.io/css/coder-dark.min.717236c74e0a5208ef73964a9f44c6b443b689a95b270d8b2a40d0c012460dac.css" integrity="sha256-cXI2x04KUgjvc5ZKn0TGtEO2ialbJw2LKkDQwBJGDaw=" crossorigin="anonymous" media="screen" />
      
    

    

    

    <link rel="icon" type="image/png" href="805bluebell.github.io/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="805bluebell.github.io/images/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.69.0" />
  </head>
  
  
  
    
  
  <body class="colorscheme-auto"
        onload=" twemoji.parse(document.body); "
  >
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="805bluebell.github.io/">
      pankajkumar
    </a>
    
      <span id="dark-mode-toggle" class="float-right">
        <i class="fas fa-adjust fa-fw"></i>
      </span>
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fas fa-bars fa-fw"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="805bluebell.github.io/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="805bluebell.github.io/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="805bluebell.github.io/projects/">Projects</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="805bluebell.github.io/contact/">Contact me</a>
            </li>
          
        
        
          
          
          
            
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="805bluebell.github.io/pt-br/">Português</a>
              </li>
            
          
        
        <li class="navigation-item separator">
          <span>|</span>
        </li>
      </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">Multithreading in C&#43;&#43; &amp; Python</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2019-12-09T00:00:00Z'>
                December 9, 2019
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              5-minute read
            </span>
          </div>
          <div class="categories">
  <i class="fas fa-folder"></i>
    <a href="805bluebell.github.io/categories/technology/">technology</a>
      <span class="separator">•</span>
    <a href="805bluebell.github.io/categories/programming/">programming</a></div>

          <div class="tags">
  <i class="fas fa-tag"></i>
    <a href="805bluebell.github.io/tags/c&#43;&#43;/">c&#43;&#43;</a>
      <span class="separator">•</span>
    <a href="805bluebell.github.io/tags/python/">python</a>
      <span class="separator">•</span>
    <a href="805bluebell.github.io/tags/threads/">threads</a></div>

        </div>
      </header>

      <div>
        
        <!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h1 id="is-multithreading-really-useful">Is Multithreading really useful</h1>
<blockquote>
<p><strong>Thread</strong> - In computer science, a thread of execution is the smallest sequence of programmed instructions that can be managed independently by a scheduler&hellip; (source : Wikipedia)
So, When you divide a program into independently managed pieces of work which can be later combined to have a correct end solution we divide it into chunks called threads.</p>
</blockquote>
<p>But why do we need threads anyway?</p>
<p>Suppose we have a single processor sweating out for all the load. Now, if some part of program is very time consuming (eg. I/O bound routines) the code below that part will have to wait for it&rsquo;s completion for no specific reason as the below code can be logically independent than the first one.</p>
<p>Threads come to rescue. We will divide the program into independently managed routines. And their is a watchman standing near the hardworking CPU to disallow time consuming tasks. The watchman will prempt or kick out threads which waste precious CPU time &amp; allow the deserving threads to be run so that CPU remains occupied most of the time.</p>
<p>Things were going well with mankind untill more demand came. Codes wanted to churn more data &amp; computer manufactures didn&rsquo;t had a choice but to follow Moore&rsquo;s law. They added more workers (processors) on a single computer. Now, adding them was cheaper but utilizing them was a task for the old watchman. So, new watchmen were hired to handle the chaos (several scheduling paradigms were used).</p>
<p>Simply said, the threads were now spread up in multiple queues to multiple processors minimising overheads.</p>
<h1 id="c-threads">C++ threads</h1>
<p>With <code>pthreads.h</code> library in Clang things were in premitive stage untill C++ 11 had it&rsquo;s own threading library <code>&lt;threads&gt;</code>. Threading in C++ is very similar to what has been described above.</p>
<h2 id="sequential-program-without-any-threading">Sequential program without any threading</h2>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++">    <span style="color:#007f7f">// thread example
</span><span style="color:#007f7f"></span>    <span style="color:#0f0;font-weight:bold">#include</span> <span style="color:#0f0;font-weight:bold">&lt;iostream&gt;       // std::cout</span><span style="color:#0f0;font-weight:bold">
</span><span style="color:#0f0;font-weight:bold"></span>    <span style="color:#0f0;font-weight:bold">#include</span> <span style="color:#0f0;font-weight:bold">&lt;chrono&gt;</span><span style="color:#0f0;font-weight:bold">
</span><span style="color:#0f0;font-weight:bold"></span>    <span style="color:#0f0;font-weight:bold">#include</span> <span style="color:#0f0;font-weight:bold">&lt;unistd.h&gt;</span><span style="color:#0f0;font-weight:bold">
</span><span style="color:#0f0;font-weight:bold"></span>    <span style="color:#fff;font-weight:bold">using</span> <span style="color:#fff;font-weight:bold">namespace</span> std;
    <span style="color:#fff;font-weight:bold">using</span> <span style="color:#fff;font-weight:bold">namespace</span> std::chrono;

    <span style="color:#fff;font-weight:bold">void</span> foo() {
      <span style="color:#fff;font-weight:bold">int</span> sum = <span style="color:#ff0;font-weight:bold">0</span>;
      <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i = <span style="color:#ff0;font-weight:bold">0</span>; i &lt; <span style="color:#ff0;font-weight:bold">1000000</span>; i++) {
        sum += i;
      }
      usleep(<span style="color:#ff0;font-weight:bold">2000</span>);
      cout &lt;&lt; sum &lt;&lt; endl;
    }

    <span style="color:#fff;font-weight:bold">void</span> bar(<span style="color:#fff;font-weight:bold">int</span> x) {
      <span style="color:#fff;font-weight:bold">int</span> sum = <span style="color:#ff0;font-weight:bold">0</span>;
      <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i = <span style="color:#ff0;font-weight:bold">0</span>; i &lt; <span style="color:#ff0;font-weight:bold">1000000</span>; i++) {
        sum += i;
        sum *= x;
      }
      usleep(<span style="color:#ff0;font-weight:bold">1000</span>);
      cout &lt;&lt; sum &lt;&lt; endl;
    }

    <span style="color:#fff;font-weight:bold">int</span> main() {

      <span style="color:#007f7f">// Get starting timepoint
</span><span style="color:#007f7f"></span>      <span style="color:#fff;font-weight:bold">auto</span> start = high_resolution_clock::now();

      foo();
      bar(<span style="color:#ff0;font-weight:bold">10</span>);

      <span style="color:#007f7f">// Get ending timepoint
</span><span style="color:#007f7f"></span>      <span style="color:#fff;font-weight:bold">auto</span> stop = high_resolution_clock::now();

      <span style="color:#fff;font-weight:bold">auto</span> duration = duration_cast &lt; microseconds &gt; (stop - start);

      cout &lt;&lt; <span style="color:#0ff;font-weight:bold">&#34;Time taken by function: &#34;</span> &lt;&lt;
        duration.count() &lt;&lt; <span style="color:#0ff;font-weight:bold">&#34; microseconds&#34;</span> &lt;&lt; endl;

      <span style="color:#fff;font-weight:bold">return</span> <span style="color:#ff0;font-weight:bold">0</span>;
    }
</code></pre></div><div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">&gt; Time taken by <span style="color:#fff;font-weight:bold">function</span>: <span style="color:#ff0;font-weight:bold">4783</span> microseconds
</code></pre></div><h2 id="using-threads-for-the-same-program">Using threads for the same program</h2>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++">/ <span style="color:#fff;font-weight:bold">thread</span> example<span style="color:#f00">#</span>include &lt;iostream&gt;       <span style="color:#007f7f">// std::cout
</span><span style="color:#007f7f"></span><span style="color:#0f0;font-weight:bold">#include</span> <span style="color:#0f0;font-weight:bold">&lt;thread&gt;         // std::thread</span><span style="color:#0f0;font-weight:bold">
</span><span style="color:#0f0;font-weight:bold">#include</span> <span style="color:#0f0;font-weight:bold">&lt;chrono&gt;</span><span style="color:#0f0;font-weight:bold">
</span><span style="color:#0f0;font-weight:bold">#include</span> <span style="color:#0f0;font-weight:bold">&lt;unistd.h&gt;</span><span style="color:#0f0;font-weight:bold">
</span><span style="color:#0f0;font-weight:bold"></span><span style="color:#fff;font-weight:bold">using</span> <span style="color:#fff;font-weight:bold">namespace</span> std;
<span style="color:#fff;font-weight:bold">using</span> <span style="color:#fff;font-weight:bold">namespace</span> std::chrono;

<span style="color:#fff;font-weight:bold">void</span> foo() {
  <span style="color:#fff;font-weight:bold">int</span> sum = <span style="color:#ff0;font-weight:bold">0</span>;
  <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i = <span style="color:#ff0;font-weight:bold">0</span>; i &lt; <span style="color:#ff0;font-weight:bold">1000000</span>; i++) {
    sum += i;
  }
  usleep(<span style="color:#ff0;font-weight:bold">2000</span>);
  cout &lt;&lt; sum &lt;&lt; endl;
}

<span style="color:#fff;font-weight:bold">void</span> bar(<span style="color:#fff;font-weight:bold">int</span> x) {
  <span style="color:#fff;font-weight:bold">int</span> sum = <span style="color:#ff0;font-weight:bold">0</span>;
  <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i = <span style="color:#ff0;font-weight:bold">0</span>; i &lt; <span style="color:#ff0;font-weight:bold">1000000</span>; i++) {
    sum += i;
    sum *= x;
  }
  usleep(<span style="color:#ff0;font-weight:bold">1000</span>);
  cout &lt;&lt; sum &lt;&lt; endl;
}

<span style="color:#fff;font-weight:bold">int</span> main() {

  <span style="color:#007f7f">// Get starting timepoint
</span><span style="color:#007f7f"></span>  <span style="color:#fff;font-weight:bold">auto</span> start = high_resolution_clock::now();

  <span style="color:#fff;font-weight:bold">thread</span> first(foo); <span style="color:#007f7f">// spawn new thread that calls foo()
</span><span style="color:#007f7f"></span>  <span style="color:#fff;font-weight:bold">thread</span> second(bar, <span style="color:#ff0;font-weight:bold">10</span>); <span style="color:#007f7f">// spawn new thread that calls bar(0)
</span><span style="color:#007f7f"></span>
  cout &lt;&lt; <span style="color:#0ff;font-weight:bold">&#34;main, foo and bar now execute concurrently...</span><span style="color:#0ff;font-weight:bold">\n</span><span style="color:#0ff;font-weight:bold">&#34;</span>;

  <span style="color:#007f7f">// synchronize threads:
</span><span style="color:#007f7f"></span>  first.join(); <span style="color:#007f7f">// pauses until first finishes
</span><span style="color:#007f7f"></span>  second.join(); <span style="color:#007f7f">// pauses until second finishes
</span><span style="color:#007f7f"></span>
  <span style="color:#007f7f">// Get ending timepoint
</span><span style="color:#007f7f"></span>  <span style="color:#fff;font-weight:bold">auto</span> stop = high_resolution_clock::now();

  <span style="color:#fff;font-weight:bold">auto</span> duration = duration_cast &lt; microseconds &gt; (stop - start);

  cout &lt;&lt; <span style="color:#0ff;font-weight:bold">&#34;Time taken by function: &#34;</span> &lt;&lt;
    duration.count() &lt;&lt; <span style="color:#0ff;font-weight:bold">&#34; microseconds&#34;</span> &lt;&lt; endl;

  <span style="color:#fff;font-weight:bold">return</span> <span style="color:#ff0;font-weight:bold">0</span>;
}
</code></pre></div><div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">&gt; Time taken by <span style="color:#fff;font-weight:bold">function</span>: <span style="color:#ff0;font-weight:bold">3733</span> microseconds
</code></pre></div><blockquote>
<p>So, multithreading surely helps in heavy lifting tasks. But, for small programs &amp; large CPU bound programs with very less I/O tasks will show no major breakthrough.</p>
</blockquote>
<h1 id="python-threads">Python threads</h1>
<p>Python has weird problems. One of them is multithreading. It supports threading of a program using <code>threading</code>. But you can&rsquo;t use multi processor queues using threads. So, does that mean multiprocessing is not supported with such a hot and modern programmming language. Well, it has another module <code>multiprocessing</code> to do so.
(Cool explation of using threading in python)[https://www.guru99.com/python-multithreading-gil-example.html]</p>
<p>But still, a program divided into several threads can be more responsive running on a single core as comapred to sequential program. This is attributed to the fact that you always try to keep the CPU as busy as possible when multithreading. Sounds good for single processor.</p>
<p>Let&rsquo;s see some action now.</p>
<h2 id="sequential-program-without-any-threading-1">Sequential program without any threading</h2>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#fff;font-weight:bold">import</span> threading
<span style="color:#fff;font-weight:bold">import</span> time
<span style="color:#fff;font-weight:bold">def</span> calc_square(number):
	<span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#39;Square:&#39;</span> , number * number)
	<span style="color:#fff;font-weight:bold">for</span> i in <span style="color:#fff;font-weight:bold">range</span>(<span style="color:#ff0;font-weight:bold">1000000</span>):
		number *= i
<span style="color:#fff;font-weight:bold">def</span> calc_quad(number):
	<span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#39;Quad:&#39;</span> , number * number * number * number)
	<span style="color:#fff;font-weight:bold">for</span> i in <span style="color:#fff;font-weight:bold">range</span>(<span style="color:#ff0;font-weight:bold">1000000</span>):
		number *= i
<span style="color:#fff;font-weight:bold">if</span> __name__ == <span style="color:#0ff;font-weight:bold">&#34;__main__&#34;</span>:
	number = <span style="color:#ff0;font-weight:bold">7</span>
	t1 = time.time()
	calc_square(number)
	calc_quad(number)
	t2 = time.time()
	<span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#34;Time : &#34;</span>, (t2 - t1)*<span style="color:#ff0;font-weight:bold">1000</span>)
</code></pre></div><div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">&gt; Time :  164.58821296691895
</code></pre></div><h2 id="using-threads-for-the-same-program-1">Using threads for the same program</h2>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#fff;font-weight:bold">import</span> threading
<span style="color:#fff;font-weight:bold">import</span> time
<span style="color:#fff;font-weight:bold">def</span> calc_square(number):
	<span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#39;Square:&#39;</span> , number * number)
	<span style="color:#fff;font-weight:bold">for</span> i in <span style="color:#fff;font-weight:bold">range</span>(<span style="color:#ff0;font-weight:bold">1000000</span>):
		number *= i
<span style="color:#fff;font-weight:bold">def</span> calc_quad(number):
	<span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#39;Quad:&#39;</span> , number * number * number * number)
	<span style="color:#fff;font-weight:bold">for</span> i in <span style="color:#fff;font-weight:bold">range</span>(<span style="color:#ff0;font-weight:bold">1000000</span>):
		number *= i
<span style="color:#fff;font-weight:bold">if</span> __name__ == <span style="color:#0ff;font-weight:bold">&#34;__main__&#34;</span>:
	number = <span style="color:#ff0;font-weight:bold">7</span>

thread1 = threading.Thread(target=calc_square, args=(number,))
thread2 = threading.Thread(target=calc_quad, args=(number,))<span style="color:#007f7f"># Will execute both in parallel</span>

t1 = time.time()
thread1.start()
thread2.start()<span style="color:#007f7f"># Joins threads back to the parent process, which is this</span>
	<span style="color:#007f7f"># program</span>
thread1.join()
thread2.join()<span style="color:#007f7f"># This program reduces the time of execution by running tasks in parallel</span>
t2 = time.time()
<span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#34;Time : &#34;</span>, (t2 - t1)*<span style="color:#ff0;font-weight:bold">1000</span>)
</code></pre></div><div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">Time :  171.08392715454102
</code></pre></div><blockquote>
<p>Multithreading is slower than sequencial code. That was kind of expected since all our code was running on single core. But don&rsquo;t undersestimate python, it has <code>multiprocessing</code> to offer.</p>
</blockquote>
<p>We&rsquo;ll explore multiprocessing some other day.</p>

      </div>


      <footer>
        


        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "yourdiscussshortname" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        
        
      </footer>
    </article>

    
  </section>

      </div>

      
  <footer class="footer">
    <section class="container">
      
        <p>You are what you imagine.</p>
      
      
        ©
        
          2014 -
        
        2020
         Pankaj Kumar 
      
      
         · 
        Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
      
      
        
      
    </section>
  </footer>

    </main>

    
      
      <script src="805bluebell.github.io/js/dark-mode.min.0213e1773e6d1c5a644f847c67a6f8abac49a3776e2976f6008038af8c5b76a1.js"></script>
    

    

    

    <script>
(function(f, a, t, h, o, m){
	a[h]=a[h]||function(){
		(a[h].q=a[h].q||[]).push(arguments)
	};
	o=f.createElement('script'),
	m=f.getElementsByTagName('script')[0];
	o.async=1; o.src=t; o.id='fathom-script';
	m.parentNode.insertBefore(o,m)
})(document, window, '//analytics.example.com/tracker.js', 'fathom');
fathom('set', 'siteId', 'ABCDE');
fathom('trackPageview');
</script>


    <script async defer data-domain=”example.com” src=”https://analytics.example.com/js/index.js”></script> 


  </body>

</html>
